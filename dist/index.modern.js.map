{"version":3,"file":"index.modern.js","sources":["../package/src/index.js"],"sourcesContent":["import md5 from \"md5\";\n\nfunction onMissingTranslation(I18n, md5, message) {\n  return `translation missing: ${I18n.locale}.${message}`;\n}\n\nconst interpolate = (message, data, links = []) =>\n  links.reduce(\n    (result, href) => result.replace(/<<(.*?)>>/, `<a href=\"${href}\">$1</a>`),\n    message.replace(/%{([^{}]*)}/g, (_, b) => data[b])\n  );\n\nexport default function configure(I18n) {\n  I18n.screw = function screw(message, data, links = []) {\n    const hash = md5(message);\n    let translation = I18n.translations[I18n.locale]?.[hash];\n    if (typeof translation === \"undefined\") {\n      translation = onMissingTranslation(I18n, hash, message);\n    }\n    return interpolate(translation, data, links);\n  };\n}\n"],"names":["I18n","screw","message","data","links","hash","md5","translation","translations","locale","_I18n$translations$I","onMissingTranslation","reduce","result","href","replace","_","b","interpolate"],"mappings":"2CAYkCA,GAChCA,EAAKC,MAAQ,SAAeC,EAASC,EAAMC,kBAAAA,IAAAA,EAAQ,IACjD,IAAMC,EAAOC,EAAIJ,GACbK,YAAcP,EAAKQ,aAAaR,EAAKS,4BAAvBC,EAAiCL,GAInD,YAH2B,IAAhBE,IACTA,EAfN,SAA8BP,EAAMM,EAAKJ,GACvC,8BAA+BF,EAAKS,WAAUP,EAc5BS,CAAqBX,EAAMK,EAAMH,IAXjC,SAACA,EAASC,EAAMC,mBAAAA,IAAAA,EAAQ,IAC1CA,EAAMQ,OACJ,SAACC,EAAQC,UAASD,EAAOE,QAAQ,wBAAyBD,eAC1DZ,EAAQa,QAAQ,eAAgB,SAACC,EAAGC,UAAMd,EAAKc,MAUxCC,CAAYX,EAAaJ,EAAMC"}